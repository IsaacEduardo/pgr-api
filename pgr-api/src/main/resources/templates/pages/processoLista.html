<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org" layout:decorator="layout">


<head>
<title>Home</title>
<meta charset="UTF-8">
</head>
<body>
	<section layout:fragment="content">



		<div
			class="col-xl-3 col-lg-3 col-md-3 col-sm-6 grid-margin stretch-card">
			<div class="card card-statistics">
				<div class="card-body">
					<div class="clearfix">
						<li><a th:href="@{/processo/novo}"><i
								class="fa fa-long-arrow-left" aria-hidden="true"></i>Novo</a></li>

					</div>
				</div>
			</div>
		</div>


		<div class="col-lg-12 grid-margin stretch-card">
			<div class="card">
				<div class="card-body">
					<h4 class="card-title">Processos</h4>
					<p class="card-description">
						Lista de
						<code>Processos</code>
					</p>
					<!-- Form filter -->
					<div>
						<form th:action="@{/processo/page/1}" class="forms-sample">
							<div class="row">
								<div class="col-md-6">
									<div class="form-group row">
										<input type="hidden" name="sortField" th:value="${sortField}"
											class="form-control" /> <input type="hidden" name="sortDir"
											th:value="${sortDir}" class="form-control" /> <input
											type="text" name="keyword" size="50" th:value="${keyword}"
											class="form-control"
											placeholder="pesquisa por Nº,data de Abertura" />
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group row">
										&nbsp; <input type="submit" value="Pesquisar"
											class="btn btn-success mr-2" /> &nbsp; <a
											th:href="@{/processo/lista}" class="btn btn-danger"> <span
											class="fa fa-times"></span>Limpar
										</a>

									</div>
								</div>
							</div>
						</form>
					</div>

					<div class="table-responsive">
						<table class="table table-hover" id="tabelaProcesso">
							<thead>
								<tr>
									<th>Código</th>
									<th><a
										th:href="@{'/processo/page/' + ${currentPage} + '?sortField=numeroProcesso&sortDir=' + ${reverseSortDir} + ${keyword != null ? '&keyword=' + keyword : ''}}">
											Número</a></th>
									<th>Data de Abertura</th>
									<th>Anexo</th>
									<th>Área</th>
									<th>Opções</th>
								</tr>
							</thead>
							<tbody>
								<tr data-th-each="processo : ${processoList}">

									<td th:text="${processo.sku}"></td>
									<td><a
										th:href="@{/processo/processoInfo(id=${processo.id})}"><span
											th:text="${processo.numeroProcesso}"></span></a></td>

									<td th:text="${processo.dataAbertura}"></td>

									<td><a th:if="${processo.anexo != null}"
										th:href="@{/processo/baixarAnexo/{idProcesso}(idProcesso=${processo.id})}">Download</a>
										<a th:if="${processo.anexo == null}" style="color: red;">Não
											Existe</a></td>

									<td th:text="${processo.areaProcesso.nome}"></td>

									<td><a th:href="@{'/processo/delete/' + ${processo.id}}"
										class="btn btn-danger"> <span class="fa fa-times"></span>Delete
									</a></td>


								</tr>

							</tbody>
						</table>

					</div>

					<!-- Pagina -->


					<div class="row" th:fragment="pagination">

						<div class="col-md-2"></div>
						<div class="col-md-8">
							<nav aria-label="Pagination">
								<ul class="pagination justify-content-center">

									Total itens: [[${totalItems}]] - Página [[${currentPage}]] de
									[[${totalPages}]] &nbsp; &nbsp;
									<a th:if="${currentPage > 1}"
										th:href="@{'/processo/page/1?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + ${keyword != null ? '&keyword=' + keyword : ''}}">First</a>
									<span th:unless="${currentPage > 1}">First</span> &nbsp;&nbsp;
									<a th:if="${currentPage > 1}"
										th:href="@{'/processo/page/' + ${currentPage - 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + ${keyword != null ? '&keyword=' + keyword : ''}}">Previous</a>
									<span th:unless="${currentPage > 1}">Previous</span>
									&nbsp;&nbsp;
									<span th:each="i: ${#numbers.sequence(1, totalPages)}">
										<a th:if="${i != currentPage}"
										th:href="@{'/processo/page/' + ${i}} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + ${keyword != null ? '&keyword=' + keyword : ''}">[[${i}]]</a>
										&nbsp; &nbsp; <span th:unless="${i != currentPage}">[[${i}]]</span>
										&nbsp; &nbsp;
									</span>
									<a th:if="${currentPage < totalPages}"
										th:href="@{'/processo/page/' + ${currentPage + 1} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + ${keyword != null ? '&keyword=' + keyword : ''}}">Next</a>
									<span th:unless="${currentPage < totalPages}">Next</span>
									&nbsp;&nbsp;
									<a th:if="${currentPage < totalPages}"
										th:href="@{'/processo/page/' + ${totalPages} + '?sortField=' + ${sortField} + '&sortDir=' + ${sortDir} + ${keyword != null ? '&keyword=' + keyword : ''}}">Last</a>
									<span th:unless="${currentPage < totalPages}">Last</span>
									&nbsp;&nbsp;


								</ul>
							</nav>
						</div>
					</div>


					<!-- Fim pagia -->
				</div>
			</div>
		</div>



	</section>


</body>
</html>
